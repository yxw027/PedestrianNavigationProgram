clear all
clc
refl = [-3.761063499E+06;  3.636647578E+06;  3.636362767E+06];
IMS =0.69* [-1.98253500000000,0.263391000000000,0;-1.98487100000000,0.245007000000000,0;-1.98216800000000,0.266465000000000,0;-0.989414000000000,0.145121000000000,0;-1.97845000000000,0.292410000000000,0;-1.97867900000000,0.290068000000000,0;-1.98302600000000,0.259534000000000,0;-1.98164900000000,0.270164000000000,0;-1.98748700000000,0.223378000000000,0;-0.993630000000000,0.112689000000000,0;-1.98278800000000,0.261810000000000,0;-1.98259200000000,0.263153000000000,0;-1.98152300000000,0.271024000000000,0;-1.98050200000000,0.278583000000000,0;-1.98266300000000,0.262252000000000,0;-0.991721000000000,0.128410000000000,0;-1.97968800000000,0.283198000000000,0;-1.97934200000000,0.284578000000000,0;-1.98054400000000,0.277164000000000,0;-0.988646000000000,0.150261000000000,0;-1.98100700000000,0.273062000000000,0;-1.97949900000000,0.285625000000000,0;-1.98880600000000,0.209797000000000,0;-1.99418700000000,0.149934000000000,0;-0.996992	0.077504	0
-1.993487	0.161044	0
-1.994573	0.147089	0
-1.993134	0.164219	0
-1.993969	0.155195	0
-1.992627	0.17103	0
-0.996102	0.088208	0
-1.991022	0.18922	0
-1.992155	0.17696	0
-1.990513	0.194502	0
-1.990501	0.194094	0
-0.99582	0.091339	0
];
syoki=[-62.7627189265225,74.0266649476024,-1.37348819862473];
syoki2=[-63.0914972324975,74.4293631206337,-1.37348819789669];
syoki1=[-67.8587826766664,80.2684866524204,-1.37348819844706];

INS(1,1:3) = syoki;
INS(2:37,1:3) = IMS;
Radian = deg2rad(315);

for i=1:36
    if i==1
       iti = syoki + IMS(i,:); 
    else 
        IMS(i,1:2) = [cos(Radian),-sin(Radian);sin(Radian),cos(Radian)]*INS(i,1:2)';
        IMS(i,3)=0;
        iti = iti+IMS(i,:)
    end
      iti_xyz(i,:) = enu2xyz(iti',refl) ;
      iti_llh(i,:) = xyz2llh(iti_xyz(i,:))*180/pi;
end 